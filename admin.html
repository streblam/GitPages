<!doctype html>
<html lang="lv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin — Pēddzes Laivas</title>
  <link rel="stylesheet" href="./assets/styles.css" />
</head>
<body>
  <div class="container">
    <div class="nav">
      <a class="brand" href="./index.html">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1 id="brandName">Pēddzes Laivas</h1>
          <p>Administrēšana</p>
        </div>
      </a>
      <div class="navlinks">
        <a class="pill" href="./index.html">Sākums</a>
        <a class="pill" href="./booking.html">Rezervēt</a>
      </div>
    </div>

    <div class="card pad" id="loginCard">
      <h2 style="margin-top:0;">Pieslēgties</h2>
      <p class="muted">Admin zona rezervāciju pārskatam un eksportam.</p>

      <div class="inlineError" id="loginError"></div>

      <form class="form" id="loginForm" autocomplete="on">
        <div class="row2">
          <div>
            <label>E-pasts</label>
            <input type="email" id="loginEmail" value="admin@example.com" required />
          </div>
          <div>
            <label>Parole</label>
            <input type="password" id="loginPass" value="Admin123!" required />
          </div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn primary" type="submit">Ienākt</button>
          <button class="btn" id="logoutBtn" type="button" style="display:none;">Iziet</button>
        </div>
        <div class="small">Demo: admin@example.com / Admin123!</div>
      </form>
    </div>

    <div id="dashboard" style="display:none; margin-top:12px;">
      <div class="split">
        <div class="card pad panel" tabindex="0">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
            <h2 style="margin:0;">Rezervācijas</h2>
            <div style="display:flex; gap:10px; flex-wrap:wrap;">
              <button class="btn" id="exportBtn" type="button">Eksportēt XML</button>
              <button class="btn" id="refreshBtn" type="button">Atsvaidzināt</button>
            </div>
          </div>
          <p class="muted" style="margin-top:8px;">Hover/focus uz paneļa paceļ to priekšplānā, lai ērtāk strādāt.</p>
          <div class="hr"></div>
          <div class="row2">
            <div>
              <label>Meklēt</label>
              <input type="search" id="q" placeholder="Vārds, telefons, e-pasts, ID..." />
            </div>
            <div>
              <label>Statuss</label>
              <select id="filterStatus">
                <option value="">Visi</option>
                <option value="JAUNA">JAUNA</option>
                <option value="GAIDA APMAKSU">GAIDA APMAKSU</option>
                <option value="APSTIPRINĀTS">APSTIPRINĀTS</option>
              </select>
            </div>
          </div>
          <div style="height:10px"></div>
          <div id="tableWrap"></div>
        </div>

        <div class="card pad panel" tabindex="0">
          <h2 style="margin-top:0;">Jauna rezervācija (ātri)</h2>
          <p class="muted">Šeit vari pievienot rezervāciju manuāli (piem., zvans). Panelis ir platāks un pārskatāms.</p>

          <div class="inlineError" id="newError"></div>

          <form class="form" id="newForm">
            <div>
              <label>Sākuma datums</label>
              <input type="date" id="nStart" required />
            </div>
            <div>
              <label>Dienu skaits</label>
              <input type="number" id="nDays" min="1" max="14" value="1" required />
            </div>

            <div class="row2">
              <div>
                <label>VISTA</label>
                <input type="number" id="nVista" min="0" value="0" />
              </div>
              <div>
                <label>KANOE</label>
                <input type="number" id="nKanoe" min="0" value="0" />
              </div>
            </div>
            <div class="row2">
              <div>
                <label>SUP</label>
                <input type="number" id="nSup" min="0" value="0" />
              </div>
              <div>
                <label>Statuss</label>
                <select id="nStatus">
                  <option value="JAUNA">JAUNA</option>
                  <option value="GAIDA APMAKSU">GAIDA APMAKSU</option>
                  <option value="APSTIPRINĀTS">APSTIPRINĀTS</option>
                </select>
              </div>
            </div>

            <div>
              <label>Upe</label>
              <select id="nRiver"></select>
            </div>

            <div class="row2">
              <div>
                <label>Vārds</label>
                <input type="text" id="nName" required />
              </div>
              <div>
                <label>Telefons</label>
                <input type="tel" id="nPhone" required />
              </div>
            </div>

            <div>
              <label>E-pasts</label>
              <input type="email" id="nEmail" />
            </div>

            <div>
              <label>Piezīmes</label>
              <textarea id="nNotes"></textarea>
            </div>

            <button class="btn primary" type="submit">Pievienot</button>
            <div class="small">Saglabājas lokāli (Live Server režīmā). Pēc tam eksportē XML.</div>
          </form>
        </div>
      </div>
    </div>

    <div class="footer">
      <div><a class="underline" href="./index.html">← Atpakaļ uz sākumu</a></div>
      <div class="small">Ja gribi, lai admin izmaiņas automātiski rakstās XML failos bez eksporta — vajadzīgs backend (Node/PHP).</div>
    </div>
  </div>

  <script type="module" src="./assets/pages/admin.js"></script>
</body>
</html>
